cc_binary(
	name = "capture",
	srcs = glob(['*.c','thirdparty/*.c']),
	deps = [
	'#pcap',
	'#gmodule-2.0',
	'#nl',
	'#gio-2.0',
	'#glib-2.0',
	'#gobject-2.0',
	'#gthread-2.0',
	'#yara',
	'#maxminddb',
	'#curl',
	'#rt',
	'#uuid',
	'#pcre',
	'#dl',
	'#pthread',
	'#ssl',
	'#crypto',
	'#yaml',
	'#m',
	'#resolv',
	'#magic',
	'#ffi',
	'#z',
	],
	extra_linkflags = [
	'-L/home/dps/thirdparty/libpcap-1.9.0',
	'-lnl','-lnl',
	'-L/home/dps/thirdparty/glib-2.56.2/glib/.libs',
        '-L/home/dps/thirdparty/glib-2.56.2/gio/.libs',
	'-L/home/dps/thirdparty/glib-2.56.2/gobject/.libs',
        '-L/home/dps/thirdparty/glib-2.56.2/gthread/.libs',
        '-L/home/dps/thirdparty/glib-2.56.2/gmodule/.libs',
        '-L/home/dps/thirdparty/yara/yara-3.8.1/libyara/.libs',
        '-L/home/dps/thirdparty/libmaxminddb-1.3.2/src/.libs',
        '-L/home/dps/thirdparty/curl-7.61.1/lib/.libs',
        '-lrt','-luuid','-lpcre',
        '-ldl','-lpthread','-lssl','-lcrypto','-lyaml',
	'-L/usr/lib64/mysql',
	'-lm','-lrt','-ldl',
	'-lm','-lresolv','-lmagic','-lffi','-lz'
	],
	export_dynamic=True,
	dynamic_link=True,
	warning = "no",
	defs=['_MT'],
)
